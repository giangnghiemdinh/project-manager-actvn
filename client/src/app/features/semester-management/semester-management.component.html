<div class="container mx-auto">
    <app-toolbar [pageTitle]="title"
                 [breadcrumbs]="[
                    { title: 'Trang chủ' },
                    { title: title }
                 ]">
        <div class="flex items-center gap-2">
            <button nz-button nzType="primary" nzSize="large" (click)="onAdd()">
                Thêm mới
            </button>
        </div>
    </app-toolbar>

    <div class="grid grid-cols-3 gap-6" *ngIf="(semesters$ | async) as semesters">
        <div class="bg-white border border-gray-150 shadow rounded-md py-2"
             *ngFor="let semester of semesters">
            <div class="flex justify-between items-center min-h-[70px] px-6 lg:px-8">
                <div class="font-semibold text-xl">
                    {{ semester.name }}
                </div>
            </div>
            <div class="px-6 lg:px-8">
                <div class="font-semibold text-gray-500">
                    Thời gian bắt đầu: {{ semester.start | date: 'dd/MM/yyyy' }}
                </div>
                <div class="mt-2 font-semibold text-gray-500">
                    Thời gian kết thúc: {{ semester.end | date: 'dd/MM/yyyy' }}
                </div>
                <div class="my-4 flex items-center gap-4">
                    <button class="w-1/2" nz-button nzType="primary" nzSize="large" (click)="onEdit(semester.id!)">
                        Chỉnh sửa
                    </button>
                    <button (click)="onDelete(semester.id!)" class="w-1/2" nz-button nzType="default" nzDanger nzSize="large">
                        Xoá
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<app-semester-form [isVisible]="isVisible$ | async"
                   [isLoading]="isLoading$ | async"
                   [semester]="semester$ | async"
                   (ok)="onSave($event)"
                   (cancel)="onClose()"/>

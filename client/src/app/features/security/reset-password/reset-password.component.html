<div id="app-forgot-password" class="w-full" *ngLet="(queryParams$ | async) as params">
    <div class="w-full text-center mb-8">
        <h1 class="text-black font-extrabold mb-1 text-lg md:text-2xl">Đặt Lại Mật Khẩu</h1>
        <div class="text-gray-400 font-semibold lg:text-base mb-2">
            Vui lòng thay đổi mật khẩu cho tài khoản
        </div>
        <div class="text-black font-semibold lg:text-base">{{ params['email'] }}</div>
    </div>
    <form nz-form [formGroup]="form">
        <div class="mb-8">
            <nz-input-group class="mb-2" [nzSuffix]="suffixTemplate" nzSize="large">
                <input [type]="passwordVisible ? 'text' : 'password'"
                       formControlName="password"
                       nz-input placeholder="Mật khẩu"/>
            </nz-input-group>
            <app-form-error formControlName="password" label="Mật khẩu"/>
            <ng-template #suffixTemplate>
                <i class='bx cursor-pointer'
                   [class.bx-show]="passwordVisible"
                   [class.bx-hide]="!passwordVisible"
                   (click)="passwordVisible = !passwordVisible"
                ></i>
            </ng-template>
        </div>
        <div class="mb-8">
            <nz-input-group class="mb-2" [nzSuffix]="confirmSuffixTemplate" nzSize="large">
                <input [type]="confirmPasswordVisible ? 'text' : 'password'"
                       formControlName="confirmPassword"
                       nz-input placeholder="Nhập lại mật khẩu"/>
            </nz-input-group>
            <app-form-error formControlName="confirmPassword" label="Mật khẩu"/>
            <ng-template #confirmSuffixTemplate>
                <i class='bx cursor-pointer'
                   [class.bx-show]="confirmPasswordVisible"
                   [class.bx-hide]="!confirmPasswordVisible"
                   (click)="confirmPasswordVisible = !confirmPasswordVisible"
                ></i>
            </ng-template>
        </div>
        <button nz-button nzBlock nzType="primary" nzSize="large" (click)="onReset(params)">Lưu</button>
        <div class="rounded-md text-red-600 bg-red-200 border border-red-300 mt-4 px-4 py-2"
             *ngIf="(errors$ | async) as errors">
            {{ errors.message || defaultError }}
        </div>
    </form>
</div>
